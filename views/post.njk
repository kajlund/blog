{% extends "layout.njk" %}

{% block content %}
  <header class="post-header">
    <h1>{{ post.title }}</h1>

    <div class="post-meta">
      <time>Published: {{ post.createdAt | formatDate }}</time>
      {% if post.updatedAt and post.updatedAt != post.createdAt %}
        <span class="separator">•</span>
        <time class="updated">Updated: {{ post.updatedAt | formatDate }}</time>
      {% endif %}
      <span class="separator">•</span>
      <span>{{ content | readingTime }}</span>
    </div>

    <div class="tag-container">
      {% for tag in post.tags.split(' ') %}
        {% if tag %}
          <a href="/tags/{{ tag }}" class="tag-badge">#{{ tag }}</a>
        {% endif %}
      {% endfor %}
    </div>
  </header>

  <article class="blog-content">
    {{ content | safe }}
  </article>

  <nav class="post-navigation"></div>
{% endblock %}

{% block scripts %}
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
{% endblock %}
